# JavaScript "This"


## Window

this 를 공부하기 전에 window 전역 객체를 먼저 알아야한다.

우리가 만드는 함수나 브라우저가 제공하는 기본적인 내장함수 모두 'window' 라는 전역 객체의 메소드 이다.

전역함수 혹은 전역 변수를 만든다는 것은 결국 window라고 하는 전역 객체의 propoty 메소드를 만드는 것이다.

예를 들어

콘솔창에서

alert.('Hi');

라고 입력하면 Hi 가 나타난다.

또한 alert 앞에 window.를 붙혀서 window.alert.('Hi'); 라고 찍어도 Hi가 출력된다.

alert 는 브라우저가 제공하는 기본적인 "내장 함수"이다.

또한

전역변수 var를 사용하고 window로 접근해도 똑같이 출력된다.

var a = 3
window.a = 3

그렇다면, const는 어떨까

const는 전역 변수가 아니다.
따라서

const b = 3
window.b = undefined

위처럼 출력된다.

따라서 기본적으로 어떠한 전역 변수나 전역 객체 즉, 어떠한 메소드에 소속되어있지 않은 객체인 경우에는 window라는 전역 객체에 "소속"되어 있다.
따라서 변수 a를 출력할때 a를 입력하는 것과 window.a를 입력하는것은 같은 의미이다.

***

## 객체


객체란 무엇인가.

객체는 자바스크립트의 거의 모든 면에 들어가있는 개념이므로 자바스크립트를 잘 다루려면 객체를 잘 이해해야한다.

객체는 관련된 데이터와 함수의 "집합" 이다.
일반적으로 여러 데이터와 함수로 이루어지는데,객체 안에 있을 때는 보통 property(프로퍼티) 와 metod(메소드)라고 부른다.

객체는 중괄호 {...}를 이용해 만들 수 있다.
중괄호 안에는 '키(key):값(value)' 쌍으로 구성된 property(프로퍼티)를 여러 개 넣을 수 있는데,
키(key)에는 "문자형", 값(value)에는 "모든 자료형"이 허용된다.

첫번째 예 :

냉장고를 상상해보자,(냉장고 사진 첨부)
냉장고를 열어보면 신선실,냉동실,과일칸 등등 여러가지 식료품을 넣을 수 있는 공간이 있다.
냉장고는 하나의 객체이다.
그리고 식료품을 분류 해놓은 공간을 property(프로퍼티) 라고 하며
해당 식료품의 이름(과일/계란/냉동제품)을 객체의 키(key)라고 생각하면 된다.

여러가지 식료품이 들어있는 냉장고 안에 분류를 해놓아서 쉽게 원하는 식료품을 찾을 수 있듯이 객체에서는 키(key)를 이용하여 property(프로퍼티)를 쉽게 "찾거나 추가하거나 삭제"할 수 있다.

두번째 예 : 

객체 (object)
- 강아지

프로퍼티 (property) 
- cat.name = "나비" // 이름 프로퍼티를 정의함.
- cat.family = "코리안 숏 헤어" // 품종 프로퍼티를 정의함.
- cat.age = 0.1 // 나이 프로퍼티를 정의함
- cat.weight = 300 //몸무게 프로퍼티를 정의함

메소드 (method)
- cat.mew()
- cat.eat()
- cat.sleep()
- cat.play()


***

## Method

자바스크립트에서는 일반적으로 객체 안에 프로퍼티로 정의된 함수를 메서드라고 부른다.

우선 메서드를 만드려면 객체를 먼저 만들고 만들어진 객체를 정의할 때 프로퍼티 값으로 함수를 선언하는 것으로 만들 수 있다.

예 : 

```javascript

const a = {
    hi : function() { 
        console.log('Hello');
    }
}

```

위 예제를 보면

(변수) const a라는 객체 안에
프로퍼티 값으로 정의된 함수 

hi : function() {
    console.log('Hello")
    } 

를 메서드라고 한다.

여기서 함수부분을 화살표 함수로도 정의 할 수있다.

```javascript

const a = {
    hi : () => { 
        console.log('Hello');
    }
}

```

또는 "function" 키워드를 제외한 함수 선언문으로도 메서드를 만들 수 있다.

```javascript

const a = {
    hi() { 
        console.log('Hello');
    }
}

```

***

## Method 호출
만들어진 메서드는 객체의 프로퍼티에 접근하고, 그 뒤에 소괄호를 부여 메서드를 호출 할 수있다.
예 :

```javascript

const a = {
    hi : function() { 
        console.log('Hello');
    }
};

a.hi(); // Hello

```
만약 소괄호를 붙이지 않으면 메서드를 호출한게 아니라 메서드에 접근만 한것이다.
이건 함수를 호출하는 방식하고 같은 원리.
선언 후에 호출을 해줘야한다.

#### 대괄호 표기법
대괄호를 사용하여 표기하는 방법은

```javascript

const a = {
    hi : function() { 
        console.log('Hello');
    }
};

a["hi"](); // Hello
a["hi"]; // function () { console.log('Hello');}

a["hi"()]; //Error
a[hi()]; //Error

```
위에 보이는 예문에서 마지막 두개는 옳지않은 표기 방법으로 인하여 에러가 발생한 것이다.
따라서 대괄호로 표기할 경우 표기법에 어긋나지 않도록 신경 써야한다.



***

## 객체지향 프로그래밍

객체 지향 프로그레밍의 기본적인 형태는 연관되어있는 변수와 메소드를 하나의 객체로 그룸핑 (grouping) 하고 서로 연관되어있지 않은 것들은 별도의 객체에다 분리를 시켜놓는것이 객체지향 프로그래밍의 기본적인 형태이다.

연관되어 있는 것들을 "그룸핑 한다." "카테고라이징 한다." 라고 생각하면 된다.

이런 기능을 제공해주는 문법적인 체계가 바로 객체이고,
이런 객체를 이용하여 여러가지 연관되어있는 그룹들을 객체화 시키게 되면
그 각각의 그룹들은 하나하나가 독립성을 갖게된다.

그룹들이 "독립성"을 갖게된다는 것은 여러가지 완제품에 "부품"으로 사용될 수 있다는 뜻이다.

따라서 객체지향 프로그래밍을 통하여 추구해야할 방향성은 "좋은 부품의 로직을 만드는 것" 이다.

## 객체

객체란 서로 연관된 변수와 함수를 그룹핑한 그릇이라고 할 수 있다.

객체를 만들때는

```javascript

var color = {} //(1)
color.name = 'blue';
color.introduce = function() {
    return 'I like ' + this.name
}

document.write(color.introduce());

```

(1) 에서처럼 중괄호를 열고 닫으면 비어있는 객체를 만든것이고
object라는 이름의 object 를 만들게 된것이다.

객체는 어떠한 데이터를 담을 수 있는 "비어있는 상자"이다.

스크린샷 "property와method" 첨부하기
함수안에 담겨있는 변수는
property라고 부르고
property에 담겨있는 값이 함수라면
method라고 부른다.



그런데 위 코드에서는
var color = {} 객체를 정의하는 {} 중괄호와 property 와 method 가 분리되어있어서 중간에 다른 코드가 끼어들거나 하는 불상사가 발생 할 수있다.

그렇기 때문에 객체를 시작하고 닫는 {} 기호 사이에 property와 method를 직접 정리해주는게 좋다.

예 : 

```javascript
var color = {
color.name = 'blue';
color.introduce = function() {
    return 'I like ' + this.name
   }
}
document.write(color.introduce());

```
위 코드 처럼 {}사이에 property와 method를 넣어주자.

## 생성자와 new
생성자(constructor)는 객체를 만드는 역할을 하는 함수이다.

생활코딩 생성자와 new3/3 다시 공부하기






***

## New 연산자와 생성자 함수

객체 리터럴 {...} 을 사용하면 객체를 쉽게 만들 수 있다.
그러나 유사한 객체를 여러 개 만들어야하는 경우(예 : 복수의 사용자, 메뉴 내 다양한 아이템을 객체로 표현하려고 하는 경우)에는 'new' 연산자와 생성자 함수를 사용하여 유사한 객체 여러 개를 만들 수 있다.

#### 생성자 함수
생성자 함수(constructor function) 와 일반 함수에 기술적인 차이는 없다.
다만 생성자 함수는 두가지 관례를 따라야한다.
1. 함수 이름의 첫 글자는 대문자로 시작.
2. 반드시 'new' 연산자를 붙여 실행.


***

## This

자, 그럼 다시 This로 돌아와서.

This 는 자바 스크립트 함수 안에서 사용된다.
함수 안에서 this라는 키워드는 그 함수가 소속되어있는 객체를 뜻한다.

이론적으로 풀어보면

This라는 것은 함수 안에서 사용할 수 있는 일종의 변수이면서 약속되어있는 변수이고
이 This라는 변수안에 담겨있는 값의 의미는 this라는 변수안에 담겨있는 값을 그 함수를 어떻게 호출하느냐에 따라서 달라진다.

=

this의 값은 this를 사용하는 해당 함수를 "어떻게" 실행하느냐에 따라 바뀐다.

this를 이용하여 함수를 실행하는 방법은 4가지가 있다.
1. 함수호출

2. 메소드의 호출

```javascript
var a = {
    func : function() {
        if(a === this){
            console.log("o === this");
        }
    }
}
a.func(); // a === this
```

어떠한 객체의 메소드에서 그 메소드를 호출하면 그 메소드가 소속되어있는 객체를 this로 접근 할 수 있다.
자기자신을 this로 접근 할 수있다.

만약 func()라는 함수를 호출하게 되면 func()안에서 "this" 는 "window"라는 전역 객체를 나타낸다.

또한 a.func()라고 호출하게되면 a.func()안에서 "this"는  "a" 를 나타낸다.

사실 원리는 같다.

함수 func()는 사실 앞에 window.가 나타나지 않은것뿐이다.
window.func() === func() 인것이다.
func() 함수 안에서 this는 window의 전역 객체안에 소속되어있기 때문에 window.func()안에서 "this"는 "window"를 나타낸다.




3. 생성자 안에서의 호출

함수 안에서 this라는 키워드는 그 함수가 소속되어있는 객체를 가르킨다.
를 명심해야한다.







--
짐코딩

자바스크립트에서 this 는 객체를 가르키는 키워드이다.
쉽게말해 this는 객체이다
그럼 대체 this는 어떤 객체인가?
this는 호출 한 놈이다.

호출한 놈이 없을 경우에는 기본값으로 window객체이다.

let 


bind 메소드는 this 를 설정할 수있는 메소드다
es5부터 추가된 기능

예를 들어서
```javascript
function printThis() {
    console.log(this); //default this -> window
}
printThis();
```


.bind는 딱 한번만 사용하고 등록할 수 있다.

--











